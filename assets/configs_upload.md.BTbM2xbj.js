import{_ as a,c as e,o as t,a5 as s}from"./chunks/framework.BTLartk_.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{"article":"","date":"","title":"","updated":"2024-07-19T22:47:45.503+08:00"},"headers":[],"relativePath":"configs/upload.md","filePath":"configs/upload.md","lastUpdated":1739437242000}'),i={name:"configs/upload.md"},d=s('<h1 id="图床配置" tabindex="-1">图床配置 <a class="header-anchor" href="#图床配置" aria-label="Permalink to &quot;图床配置&quot;">​</a></h1><p>从 2.0.0 开始, Qexo 支持了模块化的图床接入方法, 先前的 S3、FTP、Custom 文档合并至此</p><h2 id="远程-api" tabindex="-1">远程 API <a class="header-anchor" href="#远程-api" aria-label="Permalink to &quot;远程 API&quot;">​</a></h2><p>Qexo 提供了自定义 API 图床功能, 在配置完成图床设置后即可在文章/页面编辑界面上传图片</p><h3 id="api-地址" tabindex="-1">API 地址 <a class="header-anchor" href="#api-地址" aria-label="Permalink to &quot;API 地址&quot;">​</a></h3><p>图床图片上传的 API</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://7bu.top/api/upload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="post-参数名" tabindex="-1">POST 参数名 <a class="header-anchor" href="#post-参数名" aria-label="Permalink to &quot;POST 参数名&quot;">​</a></h3><p>图床图片上传 API 参数中图片文件的参数名</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>image</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://s2.loli.net/2024/07/19/9IJXAxzrCcKvs3Y.png" alt=""></p><h3 id="json-路径" tabindex="-1">JSON 路径 <a class="header-anchor" href="#json-路径" aria-label="Permalink to &quot;JSON 路径&quot;">​</a></h3><p>图床 API 返回数据中 <strong>图片 URL</strong> 所在的路径, 若为整个返回值请留空 示例：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>data.url</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义请求头" tabindex="-1">自定义请求头 <a class="header-anchor" href="#自定义请求头" aria-label="Permalink to &quot;自定义请求头&quot;">​</a></h3><p>POST 请求时附带的请求头, 需要标准 JSON 格式, 若不需要请留空</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义-body" tabindex="-1">自定义 BODY <a class="header-anchor" href="#自定义-body" aria-label="Permalink to &quot;自定义 BODY&quot;">​</a></h3><p>POST 请求时额外的请求主体, 需要标准 JSON 格式, 若不需要请留空</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义前缀" tabindex="-1">自定义前缀 <a class="header-anchor" href="#自定义前缀" aria-label="Permalink to &quot;自定义前缀&quot;">​</a></h3><p>返回 URL 所需要添加的前缀, 若不需要请留空</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>some_text_or_url</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除-api" tabindex="-1">删除 API <a class="header-anchor" href="#删除-api" aria-label="Permalink to &quot;删除 API&quot;">​</a></h3><p>图床 API 返回数据中 <strong>删除图片 URL</strong> 所在的路径, 若为不存在请留空 示例：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>data.delete_url</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="s3协议" tabindex="-1">S3协议 <a class="header-anchor" href="#s3协议" aria-label="Permalink to &quot;S3协议&quot;">​</a></h2><p>Qexo 为 S3 存储桶提供了支持, 在配置完成 S3 存储桶设置后即可在文章/页面编辑界面上传图片</p><h3 id="应用密钥-id" tabindex="-1">应用密钥 ID <a class="header-anchor" href="#应用密钥-id" aria-label="Permalink to &quot;应用密钥 ID&quot;">​</a></h3><p>S3 应用程序的 Access Key ID</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1000000000000080000000000</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="应用密钥" tabindex="-1">应用密钥 <a class="header-anchor" href="#应用密钥" aria-label="Permalink to &quot;应用密钥&quot;">​</a></h3><p>S3 应用程序的 Access Key</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>S12******************6129E</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="存储桶名" tabindex="-1">存储桶名 <a class="header-anchor" href="#存储桶名" aria-label="Permalink to &quot;存储桶名&quot;">​</a></h3><p>S3 Bucket 名称</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Bucket</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="边缘节点" tabindex="-1">边缘节点 <a class="header-anchor" href="#边缘节点" aria-label="Permalink to &quot;边缘节点&quot;">​</a></h3><p>S3 Endpoint</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://s3.us-west-002.backblazeb2.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="保存路径" tabindex="-1">保存路径 <a class="header-anchor" href="#保存路径" aria-label="Permalink to &quot;保存路径&quot;">​</a></h3><p>文件上传后保存的路径 包含文件名</p><table tabindex="0"><thead><tr><th>关键词</th><th>意义</th><th>示例</th></tr></thead><tbody><tr><td><em>{year}</em></td><td>当前年份</td><td>21</td></tr><tr><td><em>{month}</em></td><td>当前月份</td><td>1</td></tr><tr><td><em>{day}</em></td><td>当前日份</td><td>2</td></tr><tr><td><em>{YEAR}</em></td><td>当前年份</td><td>2021</td></tr><tr><td><em>{MONTH}</em></td><td>当前月份</td><td>01</td></tr><tr><td><em>{DAY}</em></td><td>当前日份</td><td>02</td></tr><tr><td><em>{filename}</em></td><td>无后缀的文件名</td><td>image</td></tr><tr><td><em>{time}</em></td><td>时间戳</td><td>1640186955.4339228</td></tr><tr><td><em>{extName}</em></td><td>文件后缀名</td><td>png</td></tr><tr><td><em>{md5}</em></td><td>图片的 Md5-Hash</td><td>0c8bfe6821a91c3d96b25e2ea2dcf827</td></tr></tbody></table><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Qexo/{year}/{month}/{md5}.{extName}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义域名" tabindex="-1">自定义域名 <a class="header-anchor" href="#自定义域名" aria-label="Permalink to &quot;自定义域名&quot;">​</a></h3><p>返回文件链接的 URL 最终返回的链接, 支持关键词同上</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://file.example.com/file/CDN/Qexo/{year}/{month}/{md5}.{extName}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="ftp-协议" tabindex="-1">FTP 协议 <a class="header-anchor" href="#ftp-协议" aria-label="Permalink to &quot;FTP 协议&quot;">​</a></h2><p>你可以借助这个模块将图片上传至远程 FTP 位置</p><h3 id="ftp-主机" tabindex="-1">FTP 主机 <a class="header-anchor" href="#ftp-主机" aria-label="Permalink to &quot;FTP 主机&quot;">​</a></h3><p>所连接的 FTP 主机</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>127.0.0.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="ftp-端口" tabindex="-1">FTP 端口 <a class="header-anchor" href="#ftp-端口" aria-label="Permalink to &quot;FTP 端口&quot;">​</a></h3><p>FTP 连接端口 通常为 <strong>21</strong></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>21</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="用户名" tabindex="-1">用户名 <a class="header-anchor" href="#用户名" aria-label="Permalink to &quot;用户名&quot;">​</a></h3><p>FTP 登录用户名</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>username</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="密码" tabindex="-1">密码 <a class="header-anchor" href="#密码" aria-label="Permalink to &quot;密码&quot;">​</a></h3><p>FTP 登录密码</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>password</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="保存路径-1" tabindex="-1">保存路径 <a class="header-anchor" href="#保存路径-1" aria-label="Permalink to &quot;保存路径&quot;">​</a></h3><p>文件上传后保存的路径 包含文件名</p><table tabindex="0"><thead><tr><th>关键词</th><th>意义</th><th>示例</th></tr></thead><tbody><tr><td><em>{year}</em></td><td>当前年份</td><td>21</td></tr><tr><td><em>{month}</em></td><td>当前月份</td><td>1</td></tr><tr><td><em>{day}</em></td><td>当前日份</td><td>2</td></tr><tr><td><em>{YEAR}</em></td><td>当前年份</td><td>2021</td></tr><tr><td><em>{MONTH}</em></td><td>当前月份</td><td>01</td></tr><tr><td><em>{DAY}</em></td><td>当前日份</td><td>02</td></tr><tr><td><em>{filename}</em></td><td>无后缀的文件名</td><td>image</td></tr><tr><td><em>{time}</em></td><td>时间戳</td><td>1640186955.4339228</td></tr><tr><td><em>{md5}</em></td><td>图片的 Md5-Hash</td><td>0c8bfe6821a91c3d96b25e2ea2dcf827</td></tr><tr><td><em>{extName}</em></td><td>文件后缀名</td><td>png</td></tr></tbody></table><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/Qexo/{year}/{month}/{time}.{extName}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义域名-1" tabindex="-1">自定义域名 <a class="header-anchor" href="#自定义域名-1" aria-label="Permalink to &quot;自定义域名&quot;">​</a></h3><p>返回文件链接的 URL 最终返回的链接, 支持关键词同上</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://file.example.com/file/CDN/Qexo/{year}/{month}/{time}.{extName}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="github" tabindex="-1">Github <a class="header-anchor" href="#github" aria-label="Permalink to &quot;Github&quot;">​</a></h2><p>(不建议)将图片上传至 Github 仓库以借助 Github Action 进行进一步操作</p><h3 id="github仓库" tabindex="-1">Github仓库 <a class="header-anchor" href="#github仓库" aria-label="Permalink to &quot;Github仓库&quot;">​</a></h3><p>您图片上传到的仓库</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>username/repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="项目分支" tabindex="-1">项目分支 <a class="header-anchor" href="#项目分支" aria-label="Permalink to &quot;项目分支&quot;">​</a></h3><p>您图片需要上传仓库的分支</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>master</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="github-密钥" tabindex="-1">Github 密钥 <a class="header-anchor" href="#github-密钥" aria-label="Permalink to &quot;Github 密钥&quot;">​</a></h3><p>于 <a href="https://github.com/settings/tokens" target="_blank" rel="noreferrer">Github 设置</a> 生成的 Token 需要 Repo 下的至少读取和写入权限 <em>不建议给出所有权限</em></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>wrq_P8sYPlYA9fjMlOPEYSKA84xxxxxxxxxxxxxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="保存路径-2" tabindex="-1">保存路径 <a class="header-anchor" href="#保存路径-2" aria-label="Permalink to &quot;保存路径&quot;">​</a></h3><p>文件上传后保存的路径 包含文件名</p><table tabindex="0"><thead><tr><th>关键词</th><th>意义</th><th>示例</th></tr></thead><tbody><tr><td><em>{year}</em></td><td>当前年份</td><td>21</td></tr><tr><td><em>{month}</em></td><td>当前月份</td><td>1</td></tr><tr><td><em>{day}</em></td><td>当前日份</td><td>2</td></tr><tr><td><em>{YEAR}</em></td><td>当前年份</td><td>2021</td></tr><tr><td><em>{MONTH}</em></td><td>当前月份</td><td>01</td></tr><tr><td><em>{DAY}</em></td><td>当前日份</td><td>02</td></tr><tr><td><em>{filename}</em></td><td>无后缀的文件名</td><td>image</td></tr><tr><td><em>{time}</em></td><td>时间戳</td><td>1640186955.4339228</td></tr><tr><td><em>{md5}</em></td><td>文件 MD5-Hash</td><td>0c8bfe6821a91c3d96b25e2ea2dcf827</td></tr><tr><td><em>{extName}</em></td><td>文件后缀名</td><td>png</td></tr></tbody></table><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Qexo/{year}/{month}/{filename}_{md5}.{extName}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自定义域名-2" tabindex="-1">自定义域名 <a class="header-anchor" href="#自定义域名-2" aria-label="Permalink to &quot;自定义域名&quot;">​</a></h3><p>返回文件链接的 URL 最终返回的链接, 支持关键词同上</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>https://github.com/username/repo/raw/master/Qexo/{year}/{month}/{filename}_{md5}.{extName}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>',86),n=[d];function l(r,p,h,o,c,u){return t(),e("div",null,n)}const g=a(i,[["render",l]]);export{m as __pageData,g as default};
